<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Página em Chamas</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: black;
      overflow: hidden;
      color: white;
      font-family: 'Courier New', monospace;
      position: relative;
    }

    #container {
      position: relative;
      z-index: 2;
      padding: 5vh 10vw;
      font-size: 1.5rem;
      line-height: 1.6;
    }

    #typed-text {
      white-space: pre-wrap;
    }

    #background-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      z-index: 0;
      transition: opacity 3s ease-in;
    }

    #fire-video {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      pointer-events: none;
      z-index: 3;
      transition: opacity 5s ease-in;
    }

    #overlay-dark {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(rgba(0,0,0,0), rgba(0,0,0,1));
      opacity: 0;
      z-index: 4;
      transition: opacity 5s ease-in;
    }
  </style>
</head>
<body>
  <video id="fire-video" src="https://cdn.pixabay.com/video/2020/04/30/37167-418512528_large.mp4" autoplay muted loop></video>
  <img id="background-image" src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?auto=format&fit=crop&w=1950&q=80" alt="Imagem de fundo">
  <div id="overlay-dark"></div>

  <div id="container">
    <div id="typed-text"></div>
  </div>

  <script>
    const texto = `A cidade nunca dorme. As luzes... sempre acesas.\nMas algo mudou hoje.\n\n`;

    const textoFinal = `Uma presença paira no ar.\nComo se alguém... ou algo... estivesse nos observando.`;

    const typedText = document.getElementById("typed-text");
    const bgImage = document.getElementById("background-image");
    const fireVideo = document.getElementById("fire-video");
    const overlayDark = document.getElementById("overlay-dark");

    let index = 0;
    let fase = 1;

    function digitarTexto(textoCompleto, callback) {
      if (index < textoCompleto.length) {
        typedText.innerText += textoCompleto.charAt(index);
        index++;
        setTimeout(() => digitarTexto(textoCompleto, callback), 60);
      } else if (callback) {
        callback();
      }
    }

    function iniciarAnimacao() {
      setTimeout(() => {
        bgImage.style.opacity = 0.4;
      }, 500);

      setTimeout(() => {
        typedText.innerText += "\n\n";
        index = 0;
        digitarTexto(textoFinal, iniciarFogo);
      }, 3000);
    }

    function iniciarFogo() {
      fireVideo.style.opacity = 1;

      setTimeout(() => {
        typedText.style.transition = "opacity 4s ease-out";
        typedText.style.opacity = 0;
      }, 4000);

      setTimeout(() => {
        overlayDark.style.opacity = 1;
      }, 8000);
    }

    digitarTexto(texto, iniciarAnimacao);
  </script>
</body>
</html>
